<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Tutorial - Crawtext documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Tutorial";
    var mkdocs_page_input_path = "tutorial.md";
    var mkdocs_page_url = "/tutorial/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Crawtext documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../README/">Summary</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../introduction/">Introduction</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installation/">Installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../configuration/">Configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Tutorial</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#tutoriel">Tutoriel</a></li>
                
                    <li><a class="toctree-l4" href="#notre-premier-crawl-cible">Notre premier crawl ciblé</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../developper_guide/">Developper guide</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../todo/">Next steps developpement</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Crawtext documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Tutorial</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="tutoriel">Tutoriel</h1>
<h2 id="notre-premier-crawl-cible">Notre premier crawl ciblé</h2>
<p>Ici nous allons créer pour l'exmple un crawl ciblé autour 
des prises de paroles en ligne sur la loi travail</p>
<p>Pour cela  nous allons créer le projet loi_travail
  <code>name: "loi_travail"</code></p>
<p>Pour un crawl ciblé autour d'une thématique nous avons besoin
d'une expression de recherche que nous devons définir avec soin
elle ne doit être ni trop large ni trop étroite pour permettre au crawler 
de collecter les informations sur la polémiques</p>
<p>Nous allons modifier dans la fichier la "query":
  ```
  "query":{</p>
<pre><code>        "active": true, 
        "query": "loi AND (Travail OR El K?omri)" 
        }
</code></pre>
<p>```
Plus de détails sur les expressions de recherche et leur syntaxe: Glossaire</p>
<p>Au vu du bruit médiatique autour de ce sujet nous allons limiter
la  profondeur du crawl à 3 soit le résultats des recherches + 2 niveaux
pour ne pas surcharger le crawler</p>
<p>```
 depth:{
         "active": true, 
         "depth":3
         },     </p>
<pre><code>Plus de détails sur la profondeur d'uncrawl: Glossaire

Le contenu qui nous intéresse est en français et on désire filtrer la langue cible
 ```
 &quot;lang&quot;:{
         &quot;active&quot;: true, 
         &quot;lang&quot;:&quot;fr&quot;,
         },     
</code></pre>

<p>Plus de détails sur les langues supportées: Glossaire</p>
<p>Le crawl doit partir d'une recherche initiale sur BING
nous allons modifier la partie seeds
<em> ajouter la clé d'API pour activer la recherche en ligne
</em> mettre le nombre de résultats que nous voulons récupérer (50)
* et désactiver les autres options en mettat à false</p>
<p>Plus de détails sur le fonctionnement de recherche sur Bing: Glossaire</p>
<pre><code>&quot;seeds&quot;: {
        &quot;url&quot;:{
            &quot;active&quot;: false,
            &quot;url&quot;: &quot;&quot;
            },
        &quot;file&quot;:{
            &quot;active&quot;: false,
            &quot;file&quot;: &quot;&quot;
            },
        &quot;search&quot;: {
            &quot;active&quot;: true,
            &quot;key&quot;: &quot;J8zre1019v/dIT0oXXXXXXXXX&quot;,
            &quot;nb&quot;: 50
            }
        }```

Le crawl sera répété toutes les semaines (exprimées en jour)
&quot;scheduler&quot;: {
        &quot;active&quot;: true,
        &quot;days&quot;: 7
    },

Plus de détails sur les routines: Glossaire

La configuration de otre crawl prend donc cette forme:
</code></pre>

<p>{
    "name": "loi_travail",
    "filters": {
        "depth":{ 
            "active": true,
            "depth": 3
            },
        "lang":{
            "active": true,
            "lang": "fr"
            },
        "query":{
            "active": true,
            "query": "Loi AND (travail OR el khomri)"
            }
    },
    "scheduler": {
        "active": true,
        "days": 30
    },
    "seeds": {
        "url":{
            "active": false,
            "url": ""
            },
        "file":{
            "active": false,
            "file": ""
            },
        "search": {
            "active": true,
            "key": "MyApiSECRETKeydIT0o",
            "nb": 50
            }
        }
}</p>
<pre><code> Enregistrons le au même endroit dans un fichier final appelé loi_travail.json 
Nous allons maintenant charger la configuration 

Ouvrons le terminal activons le virtual env et déplacons nous jusqu'aux fichiers sources de crawtext
</code></pre>

<p>(venv) me@ordi:$~ cd crawtext
(venv) me@ordi:$~/crawtext/ python crawtext setup --project=loi_travail</p>
<pre><code>Il suffit maintenant de le lancer en utilisant la comande start
</code></pre>

<p>(venv) me@ordi:$~ 
(venv) me@ordi:$~/crawtext/ python crawtext start --project=loi_travail
```
 Le crawl a commencé et durera tant qu'il aura des pages pertinentes à traiter</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../developper_guide/" class="btn btn-neutral float-right" title="Developper guide">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../configuration/" class="btn btn-neutral" title="Configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../configuration/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../developper_guide/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
